```{r}

```

---
title: "STAT5002 Lab2 Worksheet"
subtitle: "Introduction to Statistics"
author: "University of Sydney STAT5002"
output:
  html_document:
    fig_caption: yes
    number_sections: yes
    self_contained: yes
    theme: flatly
    toc: true
    toc_depth: 3
    toc_float: true
    code_folding: show
---

```{=html}
<style>
h2 { /* Header 2 */
    font-size: 22px
}
</style>
```

# Import data and IDA

-   Save the data-file `math1005_cleaned.csv` in your data folder within your STAT5002 folder.

-   **Import** the data into a variable called `math1005`:

```{r}
math1005 = read.csv("math1005_cleaned.csv")
```

This data was collected from an **optional survey** for MATH1005 students at the start of 2022 Semester 2. There are a total of **928 students** enrolled in this course. We will also use this data set next week in lectures.

-   How many survey **responses** are there? How many **variables** are there?

```{r}
### write code here
dim(math1005)

```

-   What are the **columns** of your data and what are their **type**? Are they classified correctly?
    -   *Hint: Use the function `str`. Other useful functions are `names` and`head`*.

```{r}
### write code here
str(math1005)
```

# Quantitative Data

## Height

-   Create a **graphical summary** for the **height** distribution of the cohort. Comment on the distribution, are there any **outliers**? Are there any issues with the data?

```{r}
### write code here

# Simple 2-line graphical summary for height distribution
par(mfrow=c(1,2))
hist(math1005$Height, main="Height Distribution", xlab="Height (cm)", col="lightblue")
boxplot(math1005$Height, main="Height Boxplot", ylab="Height (cm)", col="lightgreen")
```

**Answer**: The height distribution seems roughly symmetric with one outlier!

-   Calculate some **numerical summaries** for the **heights**. Briefly summarise your findings. Here you may need to remove `NA`s in the variable before proceed.

**Hint:** check `?na.omit` for removing `NA`s.

```{r}
### write code here
height=na.omit(math1005$Height)
mean(height)
sd(height)
median(height)
IQR(height)
```

## Write a function in R to compute the population standard deviation

In the lectures, we learned how to write a function in R. Here is your turn, we want to write a function to compute the **population standard deviation** of a data set. Let's name the function `sdpop`.

-   Complete the function in the following.

```{r}
# complete the following function
sdpop <- function(X){
  ### write your code here
  m=sum(X)/length(X)
  s=sqrt(sum(X-m)^2)/length(X)
  return(s)
}
```

-   Calculate the population SD of height and check if it is correct.

```{r}
### Apply your function sdpop here to height and check its correctness
sdpop(height)
n=length(height)
sd(height)*sqrt((n-1)/n)
```

## Age

-   Create a **graphical summary** for the **age** distribution of the cohort. Comment on the distribution, are there any **outliers**? Are there any issues with the data?

```{r}
### write code here
par(mfrow=c(1,2))
hist(math1005$Age, freq=F)
boxplot(math1005$Age, main="Age Boxplot", ylab="Age", col="lightgreen")
```

-   Calculate some **numerical summaries** for the **ages**. Briefly summarise your findings.

```{r}
### write code here


```

## Shoe Size

-   Create a **graphical summary** for the **shoe size** distribution of the cohort. Comment on the distribution, are there any **outliers**? Are there any issues with the data? **Hint:** Some might response using a different shoe size convention, perhaps using EU instead of US.

```{r}
### write code here

```

-   Perform any appropriate **data cleaning**. You may also need to remove `NA`s here.

```{r}
### write code here

```

-   Calculate some **numerical summaries** for the **shoe sizes**. Briefly summarise your findings.

```{r}
### write code here


```

# Qualitative Data

## International

-   Create a **graphical summary** for the distribution of **domestic and international students** in the cohort.
    -   *Hint: what type of graphical summary would be the most appropriate? You can refer to code in previous lectures and labs*.

```{r}
### write code here
# Graphical summary for domestic vs international students
# Graphical summary for domestic vs international students
par(mfrow=c(1,2))
barplot(table(math1005$International))
pie(table(math1005$International))

```

-   What is the **proportion** of **international students**? Briefly summarise your findings.

    -   *Hint: `math1005$International == "International"` creates a list of `TRUE` and `FALSE` of whether each student is international or not. R can interpret `TRUE` as 1 and `FALSE` as 0.*

    ```{r}
    ### write code here
    prop.table(table(math1005$International))

    ```

## Gender

-   Create a **graphical summary** for the **gender** distribution of the cohort.

```{r}
### write code here
barplot(table(math1005$Gender))
```

-   What is the **proportion** of **females**? Briefly summarise your findings

```{r}
### write code here
prop.table(table(math1005$Gender))['Female']

```

## Country

This task contains some additional visualisation techniques not covered in lectures. These are not mandatory for learning other topics of this unit but can be useful in real life.

-   Create a **barplot** for the **Country** that the students in the cohort were born in. Is it meaningful? Are there any issues with the data? How could this be improved?

```{r}
### write code here
barplot(table(math1005$Country))

```

-   Make a barplot of the **top 10 countries** among the cohort. Briefly summarise your findings.
    -   *Hint: the `sort` function might be useful!*

```{r}
### write code here
country_counts <- sort(table(math1005$Country), decreasing = TRUE)
print(country_counts)
barplot(country_counts[1:10], main="Top 10 Countries in MATH1005 Cohort", xlab="Country", ylab="Number of Students", col="lightblue", las=2)

```

-   **Extension**: make a **word cloud** of all the majors. Briefly summarise your findings.

You will need to first **install the** `wordcloud` **and** `tm` **packages**. To do this, you can run the first line without the `#`. Once installed, they will remain on your computer and you do not need to run this line ever again. But in each document you want to make a word cloud, you will need to include `library(wordcloud)` to **load the package**.

```{r message=FALSE, warning=FALSE}
install.packages(c("wordcloud", "tm"))
library(wordcloud)
wordcloud(math1005$Country, min.freq = 1)
```

```{r}
# Comparative boxplot of heights by gender
boxplot(Height ~ Gender, data = math1005, main="Height Distribution by Gender", xlab="Gender", ylab="Height (cm)", col=c("pink", "lightblue"))
```

```{r}

```

```{r}

```

